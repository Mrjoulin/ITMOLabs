/*
Сформировать запрос для получения числа на ФКТИУ хорошистов.
*/


SELECT 
	COUNT(Н_ЛЮДИ.ИД)
FROM Н_ЛЮДИ
INNER JOIN Н_УЧЕНИКИ ON Н_ЛЮДИ.ИД = Н_УЧЕНИКИ.ЧЛВК_ИД
INNER JOIN Н_ПЛАНЫ ON Н_УЧЕНИКИ.ПЛАН_ИД = Н_ПЛАНЫ.ИД
INNER JOIN Н_ОТДЕЛЫ ON Н_ПЛАНЫ.ОТД_ИД = Н_ОТДЕЛЫ.ИД 
WHERE Н_ОТДЕЛЫ.КОРОТКОЕ_ИМЯ = 'КТиУ' 
	AND Н_ЛЮДИ.ИД NOT IN (
		SELECT DISTINCT
			Н_ЛЮДИ.ИД
		FROM Н_ЛЮДИ
		INNER JOIN Н_ВЕДОМОСТИ ON Н_ЛЮДИ.ИД = Н_ВЕДОМОСТИ.ЧЛВК_ИД
		WHERE Н_ВЕДОМОСТИ.ОЦЕНКА IN ('2', '3', 'незач', 'неявка')
	);